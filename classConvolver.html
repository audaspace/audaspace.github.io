<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Audaspace: Convolver Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Audaspace<span id="projectnumber">&#160;1.4.0</span>
   </div>
   <div id="projectbrief">A high level audio library.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classConvolver-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Convolver Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This class allows to convolve a sound with a very large impulse response.  
 <a href="classConvolver.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Convolver_8h_source.html">Convolver.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a23696fba6873f507da50a8215c7eb2e7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConvolver.html#a23696fba6873f507da50a8215c7eb2e7">Convolver</a> (std::shared_ptr&lt; std::vector&lt; std::shared_ptr&lt; std::vector&lt; std::complex&lt; <a class="el" href="Audaspace_8h.html#aa0798f7ea0975b143a1d9deac8c05d43">sample_t</a> &gt; &gt; &gt; &gt; &gt; ir, int irLength, std::shared_ptr&lt; <a class="el" href="classThreadPool.html">ThreadPool</a> &gt; threadPool, std::shared_ptr&lt; <a class="el" href="classFFTPlan.html">FFTPlan</a> &gt; plan)</td></tr>
<tr class="memdesc:a23696fba6873f507da50a8215c7eb2e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new <a class="el" href="classFFTConvolver.html" title="This class allows to easily convolve a sound using the Fourier transform.">FFTConvolver</a>.  <br /></td></tr>
<tr class="separator:a23696fba6873f507da50a8215c7eb2e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7409d96e2b4cf421aa75ef5ba3c6d6af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConvolver.html#a7409d96e2b4cf421aa75ef5ba3c6d6af">getNext</a> (<a class="el" href="Audaspace_8h.html#aa0798f7ea0975b143a1d9deac8c05d43">sample_t</a> *inBuffer, <a class="el" href="Audaspace_8h.html#aa0798f7ea0975b143a1d9deac8c05d43">sample_t</a> *outBuffer, int &amp;length, bool &amp;eos)</td></tr>
<tr class="memdesc:a7409d96e2b4cf421aa75ef5ba3c6d6af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convolves the data that is provided with the inpulse response.  <br /></td></tr>
<tr class="separator:a7409d96e2b4cf421aa75ef5ba3c6d6af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fa73de61739bcf055b039158f3d36ac"><td class="memItemLeft" align="right" valign="top"><a id="a8fa73de61739bcf055b039158f3d36ac" name="a8fa73de61739bcf055b039158f3d36ac"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>reset</b> ()</td></tr>
<tr class="memdesc:a8fa73de61739bcf055b039158f3d36ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets all the internally stored data so the convolution of a new sound can be started. <br /></td></tr>
<tr class="separator:a8fa73de61739bcf055b039158f3d36ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7e74aadbc38b867411cbcdc37063345"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; std::vector&lt; std::shared_ptr&lt; std::vector&lt; std::complex&lt; <a class="el" href="Audaspace_8h.html#aa0798f7ea0975b143a1d9deac8c05d43">sample_t</a> &gt; &gt; &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConvolver.html#ad7e74aadbc38b867411cbcdc37063345">getImpulseResponse</a> ()</td></tr>
<tr class="memdesc:ad7e74aadbc38b867411cbcdc37063345"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the current impulse response being used.  <br /></td></tr>
<tr class="separator:ad7e74aadbc38b867411cbcdc37063345"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e7182342a6974ae7c51c5b2b1850006"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConvolver.html#a6e7182342a6974ae7c51c5b2b1850006">setImpulseResponse</a> (std::shared_ptr&lt; std::vector&lt; std::shared_ptr&lt; std::vector&lt; std::complex&lt; <a class="el" href="Audaspace_8h.html#aa0798f7ea0975b143a1d9deac8c05d43">sample_t</a> &gt; &gt; &gt; &gt; &gt; ir)</td></tr>
<tr class="memdesc:a6e7182342a6974ae7c51c5b2b1850006"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the impulse response and resets the convolver.  <br /></td></tr>
<tr class="separator:a6e7182342a6974ae7c51c5b2b1850006"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class allows to convolve a sound with a very large impulse response. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a23696fba6873f507da50a8215c7eb2e7" name="a23696fba6873f507da50a8215c7eb2e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23696fba6873f507da50a8215c7eb2e7">&#9670;&#160;</a></span>Convolver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Convolver::Convolver </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; std::vector&lt; std::shared_ptr&lt; std::vector&lt; std::complex&lt; <a class="el" href="Audaspace_8h.html#aa0798f7ea0975b143a1d9deac8c05d43">sample_t</a> &gt; &gt; &gt; &gt; &gt;&#160;</td>
          <td class="paramname"><em>ir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>irLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classThreadPool.html">ThreadPool</a> &gt;&#160;</td>
          <td class="paramname"><em>threadPool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classFFTPlan.html">FFTPlan</a> &gt;&#160;</td>
          <td class="paramname"><em>plan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new <a class="el" href="classFFTConvolver.html" title="This class allows to easily convolve a sound using the Fourier transform.">FFTConvolver</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ir</td><td>A shared pointer to a vector with the data of the various impulse response parts in the frequency domain (see <a class="el" href="classImpulseResponse.html" title="This class represents an impulse response that can be used in convolution.">ImpulseResponse</a> class for an easy way to obtain it). </td></tr>
    <tr><td class="paramname">irLength</td><td>The length of the full impulse response. </td></tr>
    <tr><td class="paramname">threadPool</td><td>A shared pointer to a <a class="el" href="classThreadPool.html" title="This represents pool of threads.">ThreadPool</a> object with 1 or more threads. </td></tr>
    <tr><td class="paramname">plan</td><td>A shared pointer to a FFT plan that will be used for convolution. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad7e74aadbc38b867411cbcdc37063345" name="ad7e74aadbc38b867411cbcdc37063345"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7e74aadbc38b867411cbcdc37063345">&#9670;&#160;</a></span>getImpulseResponse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; std::vector&lt; std::shared_ptr&lt; std::vector&lt; std::complex&lt; <a class="el" href="Audaspace_8h.html#aa0798f7ea0975b143a1d9deac8c05d43">sample_t</a> &gt; &gt; &gt; &gt; &gt; Convolver::getImpulseResponse </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the current impulse response being used. </p>
<dl class="section return"><dt>Returns</dt><dd>The current impulse response. </dd></dl>

</div>
</div>
<a id="a7409d96e2b4cf421aa75ef5ba3c6d6af" name="a7409d96e2b4cf421aa75ef5ba3c6d6af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7409d96e2b4cf421aa75ef5ba3c6d6af">&#9670;&#160;</a></span>getNext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Convolver::getNext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Audaspace_8h.html#aa0798f7ea0975b143a1d9deac8c05d43">sample_t</a> *&#160;</td>
          <td class="paramname"><em>inBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Audaspace_8h.html#aa0798f7ea0975b143a1d9deac8c05d43">sample_t</a> *&#160;</td>
          <td class="paramname"><em>outBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>eos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convolves the data that is provided with the inpulse response. </p>
<p>Given a plan of size N, the amount of samples convolved by one call to this method will be N/2. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">inBuffer</td><td>A buffer with the input data to be convolved, nullptr if the source sound has ended (the convolved sound is larger than the source sound). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">outBuffer</td><td>A buffer in which the convolved data will be written. Its size must be at least N/2. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">length</td><td>The number of samples you wish to obtain. If an inBuffer is provided this argument must match its length. When this method returns, the value of length represents the number of samples written into the outBuffer. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">eos</td><td>True if the end of the sound is reached, false otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6e7182342a6974ae7c51c5b2b1850006" name="a6e7182342a6974ae7c51c5b2b1850006"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e7182342a6974ae7c51c5b2b1850006">&#9670;&#160;</a></span>setImpulseResponse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Convolver::setImpulseResponse </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; std::vector&lt; std::shared_ptr&lt; std::vector&lt; std::complex&lt; <a class="el" href="Audaspace_8h.html#aa0798f7ea0975b143a1d9deac8c05d43">sample_t</a> &gt; &gt; &gt; &gt; &gt;&#160;</td>
          <td class="paramname"><em>ir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the impulse response and resets the convolver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ir</td><td>A shared pointer to a vector with the data of the various impulse response parts in the frequency domain (see <a class="el" href="classImpulseResponse.html" title="This class represents an impulse response that can be used in convolution.">ImpulseResponse</a> class for an easy way to obtain it). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>fx/<a class="el" href="Convolver_8h_source.html">Convolver.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
